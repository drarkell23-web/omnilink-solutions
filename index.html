<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>OmniLink Solutions ‚Äî Smart Service Network</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#0b0a18; --bg2:#141229; --ink:#f6f7fb; --muted:#c6c9de;
  --brand:#8a5cff; --brand2:#6a4cff; --chip:#231f41; --shadow:0 14px 32px rgba(0,0,0,.35);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Poppins,system-ui;
  background:linear-gradient(160deg,var(--bg1),var(--bg2));
  color:var(--ink);overflow-x:hidden;
}
h1{font-size:clamp(22px,3.5vw,36px);margin:0}
button,input,textarea{font-family:inherit}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:20px 0;width:min(1200px,94vw);margin:auto;}
.badge{width:60px;height:60px;border-radius:16px;background:linear-gradient(135deg,var(--brand),var(--brand2));display:grid;place-items:center;font-weight:900;color:#0a061b;box-shadow:0 10px 26px #8a5cff55}
.contractor-btn{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#0a061b;border:none;font-weight:800;padding:10px 16px;border-radius:10px;cursor:pointer;box-shadow:var(--shadow)}
.contractor-btn:hover{opacity:0.9}

/* Hero */
.hero{text-align:center;margin-top:10px}
.hero p{color:var(--muted);margin-top:6px}

/* Services */
.services{margin-top:30px;width:min(1200px,94vw);margin:auto;}
.category{margin-top:40px}
.category h2{margin-bottom:12px;font-size:22px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px}
.bubble{background:#231f41;color:#fff;padding:14px 12px;border-radius:50px;cursor:pointer;font-weight:600;text-align:center;box-shadow:0 3px 6px rgba(0,0,0,.3);transition:.3s}
.bubble:hover{background:linear-gradient(135deg,var(--brand),var(--brand2));transform:scale(1.07);color:#0a061b}

/* Chat */
.chat{position:fixed;bottom:100px;right:20px;background:#18152f;border:1px solid #ffffff1a;border-radius:14px;padding:15px;width:340px;max-height:500px;display:none;flex-direction:column;box-shadow:var(--shadow);z-index:50}
.chat-log{flex:1;overflow-y:auto;font-size:14px;margin-bottom:10px}
.msg{background:var(--chip);padding:8px 10px;border-radius:10px;margin-bottom:6px;width:fit-content;max-width:80%}
.bot{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#0e0727}
.user{align-self:flex-end;background:#2e2b48}
.chat-input{border:none;border-radius:10px;padding:10px;width:100%;background:#29244b;color:#fff}

/* Local Contractors Popup */
.contractors-popup{position:fixed;inset:0;background:#000a;display:none;place-items:center;z-index:90;}
.contractors-box{background:#18152f;padding:20px;border-radius:18px;width:min(400px,94vw);box-shadow:var(--shadow);text-align:center;}
.contractors-box h3{margin-bottom:10px;}
.contractors-list{margin-top:10px;text-align:left;}
.contractors-list div{background:#29244b;margin:8px 0;padding:10px;border-radius:8px;}

/* Confetti */
canvas#confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}
.footer{text-align:center;margin:40px 0;color:var(--muted);font-size:14px}
</style>
</head>
<body>
<canvas id="confetti"></canvas>

<header>
  <div style="display:flex;align-items:center;gap:12px">
    <div class="badge">OL</div>
    <div>
      <h1>OmniLink Solutions</h1>
      <p>Smart, Simple & Affordable Solutions for Every Service</p>
    </div>
  </div>
  <button class="contractor-btn" onclick="window.location='contractor.html'">üß∞ Contractors</button>
</header>

<section class="hero">
  <h2>Choose the service you need today!</h2>
</section>

<section class="services" id="serviceContainer"></section>

<!-- Chat -->
<div class="chat" id="chat">
  <div class="chat-log" id="chatLog"></div>
  <input id="chatInput" class="chat-input" placeholder="Type your message..." autocomplete="off">
</div>

<!-- Contractors Popup -->
<div class="contractors-popup" id="contractorPopup">
  <div class="contractors-box">
    <h3>üèÜ Top Contractors Near You</h3>
    <div class="contractors-list" id="contractorList"></div>
    <button class="contractor-btn" onclick="closePopup()">Close</button>
  </div>
</div>

<footer class="footer">¬© 2025 OmniLink Solutions ‚Äî Smart Service Network</footer>

<script>
const TELEGRAM_BOT_TOKEN = ""; // Paste your Telegram bot token here
const TELEGRAM_CHAT_IDS = [""]; // Paste your Telegram chat IDs
const SHEET_WEBHOOK = ""; // Paste your Google Apps Script URL

async function sendTelegram(msg){
  const url=`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
  for(const id of TELEGRAM_CHAT_IDS){
    await fetch(url,{method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify({chat_id:id,text:msg,parse_mode:"Markdown"})});
  }
}
async function saveToSheet(type,payload){
  if(!SHEET_WEBHOOK)return;
  await fetch(SHEET_WEBHOOK,{method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify({type,payload})});
}

/* Confetti */
const canvas=document.getElementById('confetti'),ctx=canvas.getContext('2d');
function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}resize();window.addEventListener('resize',resize);
function confettiBurst(){
 const colors=['#8a5cff','#6a4cff','#23d5ab','#7ee6d5'];
 const parts=Array.from({length:100},()=>({x:innerWidth/2,y:innerHeight,r:3+Math.random()*5,dx:-6+Math.random()*12,dy:-12-Math.random()*6,color:colors[Math.floor(Math.random()*colors.length)],life:120}));
 let frame=0;(function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);
 for(const p of parts){ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,2*Math.PI);ctx.fillStyle=p.color;ctx.fill();p.x+=p.dx;p.y+=p.dy;p.dy+=0.2;p.life--;}
 frame++;if(frame<120){requestAnimationFrame(draw);}else{ctx.clearRect(0,0,canvas.width,canvas.height);}})();
}

/* Services */
const categories={
 "Home & Maintenance":["Plumbing","Electrical","Roofing","Painting","Cleaning","Carpentry","Flooring","Landscaping","Pest Control","Solar Installation","Air Conditioning","Pool Maintenance","Handyman Services"],
 "Property & Construction":["General Building","Renovations","Property Sales","Security Systems","Windows & Doors","Real Estate","Paving","Tiling","Waterproofing"],
 "Technical & IT":["CCTV Setup","IT Support","Web Design","Networking","Software Installations","Data Recovery","Tech Repairs","Cloud Backup"],
 "Automotive & Transport":["Vehicle Servicing","Towing","Tyre Replacement","Panel Beating","Auto Electrical","Truck Repairs","Car Wash"],
 "Cleaning & Hospitality":["Office Cleaning","Home Cleaning","Pest Control","Janitorial","Waste Removal","Laundry","Event Setup"],
 "Health & Wellness":["Gym Installation","Physiotherapy","Nutrition","Personal Training","Medical Equipment Repair"],
 "Business & Consulting":["Accounting","Marketing","Insurance","Financial Consulting","Printing","Courier","Staffing"],
 "Creative & Media":["Photography","Videography","Branding","Social Media Management","Interior Design","Graphic Design","Advertising"],
 "Education & Training":["Tutoring","Driving Schools","Language Training","Vocational Training","Online Courses"],
 "Security & Safety":["Fire Systems","Alarm Systems","Guarding","Surveillance","Emergency Repairs","Locksmith Services"]
};

const serviceContainer=document.getElementById('serviceContainer');
for(const [title,services] of Object.entries(categories)){
 const div=document.createElement('div');div.className='category';
 div.innerHTML=`<h2>${title}</h2><div class="grid">${services.map(s=>`<div class='bubble' onclick='startChat("${s}")'>${s}</div>`).join('')}</div>`;
 serviceContainer.appendChild(div);
}

/* Chatbot */
const chat=document.getElementById('chat'),chatLog=document.getElementById('chatLog'),chatInput=document.getElementById('chatInput');
let step=0,userData={},service="";
function addMsg(text,cls="bot"){const d=document.createElement('div');d.className='msg '+cls;d.textContent=text;chatLog.appendChild(d);chatLog.scrollTop=chatLog.scrollHeight;}
async function botSay(t,delay=800){await new Promise(r=>setTimeout(r,delay));addMsg(t,'bot');}
function startChat(s){
 service=s;chat.style.display='flex';chatLog.innerHTML='';userData={};step=0;
 botSay(`üëã Hey there! I'm Omni ‚Äî your smart assistant for ${s}.`);
 botSay("Can I take your *name* please?");
}
chatInput.addEventListener('keydown',async e=>{
  if(e.key!=="Enter")return;
  const val=chatInput.value.trim();if(!val)return;addMsg(val,'user');chatInput.value='';
  switch(step){
    case 0:userData.name=val;await botSay(`Nice to meet you, ${val}! üìû Can I get your phone number?`);step++;break;
    case 1:userData.phone=val;await botSay("üìç Awesome! What area are you in?");step++;break;
    case 2:userData.area=val;await botSay("üìù Great ‚Äî tell me a bit about what you need help with.");step++;break;
    case 3:userData.notes=val;
      const msg=`üß∞ *NEW CLIENT LEAD*\nService: ${service}\nüë§ ${userData.name}\nüìû ${userData.phone}\nüìç ${userData.area}\nüìù ${userData.notes}\nüïí ${new Date().toLocaleString()}`;
      await sendTelegram(msg);await saveToSheet('lead',{service,...userData});
      await botSay("‚úÖ Got it! I‚Äôm matching you with local contractors...");
      confettiBurst();
      showContractors();
      setTimeout(()=>chat.style.display='none',4000);
      break;
  }
});

/* Contractors Popup */
const contractorPopup=document.getElementById('contractorPopup');
function showContractors(){
 const contractorList=document.getElementById('contractorList');
 contractorList.innerHTML=`
   <div>üîß ${service} Experts Inc. ‚Äî 4.9‚≠ê</div>
   <div>üß∞ ${service} Masters SA ‚Äî 4.7‚≠ê</div>
   <div>üèÜ ${service} ProFix Team ‚Äî 4.8‚≠ê</div>
 `;
 contractorPopup.style.display='grid';
}
function closePopup(){contractorPopup.style.display='none';}
</script>
</body>
</html>
