<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>OmniLink Contractors</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:Poppins,system-ui;background:#0b0a18;color:#fff;margin:0;text-align:center;}
.card{background:#18152f;width:min(450px,94vw);margin:40px auto;border-radius:16px;box-shadow:0 8px 26px rgba(0,0,0,.35);padding:20px;}
h2{margin:10px 0;}
input{width:100%;padding:10px;margin:8px 0;background:#29244b;border:none;border-radius:10px;color:#fff;}
button{background:linear-gradient(135deg,#8a5cff,#6a4cff);border:none;color:#0b0620;font-weight:700;padding:10px 16px;border-radius:10px;cursor:pointer;width:100%;}
button:hover{opacity:.9;}
.switch{margin:10px auto;display:flex;justify-content:center;gap:10px;}
.switch button{width:auto;padding:6px 12px;border-radius:8px;}
#dashboard{display:none;}
table{width:100%;border-collapse:collapse;margin-top:15px;}
td,th{border-bottom:1px solid #333;padding:8px;}
</style>
</head>
<body>
<h1>OmniLink Contractor Portal</h1>
<div class="switch">
  <button onclick="show('signup')">Sign Up</button>
  <button onclick="show('login')">Login</button>
  <button onclick="show('dashboard')">Dashboard</button>
</div>

<div id="signup" class="card">
  <h2>Contractor Signup</h2>
  <input id="bizName" placeholder="Company Name">
  <input id="email" placeholder="Email">
  <input id="service" placeholder="Service Type">
  <input id="telegram" placeholder="Telegram ID">
  <button onclick="signup()">Submit</button>
  <p id="sMsg"></p>
</div>

<div id="login" class="card" style="display:none;">
  <h2>Contractor Login</h2>
  <input id="loginEmail" placeholder="Email">
  <button onclick="login()">Login</button>
  <p id="lMsg"></p>
</div>

<div id="dashboard" class="card">
  <h2>Dashboard</h2>
  <p>Welcome, <span id="userName"></span>!</p>
  <h3>ðŸ“Š Your Leads</h3>
  <table id="leadsTable"><tr><th>Client</th><th>Service</th><th>Area</th></tr></table>
</div>

<script>
const TELEGRAM_BOT_TOKEN = "";
const ADMIN_CHAT_ID = "";

function show(section){
  ['signup','login','dashboard'].forEach(id=>document.getElementById(id).style.display='none');
  document.getElementById(section).style.display='block';
}
function signup(){
  const n=bizName.value,e=email.value,s=service.value,t=telegram.value;
  if(!n||!e||!s||!t){sMsg.textContent="Please fill all fields.";return;}
  const msg=`ðŸš¨ NEW CONTRACTOR SIGNUP\nCompany: ${n}\nEmail: ${e}\nService: ${s}\nTelegram: ${t}`;
  fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,{
    method:"POST",headers:{'Content-Type':'application/json'},
    body:JSON.stringify({chat_id:ADMIN_CHAT_ID,text:msg})
  });
  sMsg.textContent="âœ… Signup sent for review!";
}
function login(){
  const e=loginEmail.value;
  const data=localStorage.getItem('contractors');
  if(!data){lMsg.textContent="No users found.";return;}
  const users=JSON.parse(data);
  const user=users.find(u=>u.email===e);
  if(!user){lMsg.textContent="User not found.";return;}
  localStorage.setItem('loggedUser',JSON.stringify(user));
  document.getElementById('userName').textContent=user.name||user.company;
  show('dashboard');
}
</script>
</body>
</html>
